{"ast":null,"code":"import axios from \"axios\";\nimport { GET_DOGS, SET_PAGE, SET_TOTAL_PAGE, SEARCH_DOGS, SET_LOADING, GET_TEMPERAMENTS, CREATE_DOG, FILTER_BY_TEMPERAMENT, FILTER_BY_ORIGIN, SORT_ORDER, UPDATE_ORDER, CLEAN_FILTER, SET_CLEAN } from \"./actionType\";\nconst URL = \"https://api.thedogapi.com/v1/breeds\"; // API externa\n\n// Acción para consultar todos los perros\nexport function allDogs() {\n  return async function (dispatch) {\n    try {\n      dispatch(setLoading(true));\n      const response = await axios(URL);\n      const allDogsData = response.data;\n      console.log(allDogsData); // Verifica los datos obtenidos\n\n      dispatch({\n        type: GET_DOGS,\n        payload: allDogsData\n      });\n      dispatch(setTotalPage());\n    } catch (error) {\n      console.error(error);\n    } finally {\n      dispatch(setLoading(false));\n    }\n  };\n}\n\n// Acción para traer definir el total de páginas\nexport function setTotalPage() {\n  return {\n    type: SET_TOTAL_PAGE\n  };\n}\n\n// Acción para traer definir página actual\nexport const setPage = pageNumber => ({\n  type: SET_PAGE,\n  payload: pageNumber\n});\n\n// Acción para buscar por nombre\nexport function onSearch(name) {\n  return async function (dispatch) {\n    try {\n      dispatch(setLoading(true));\n      const service = await axios(URL + `?name=${name}`);\n      const allDogsData = service.data;\n      dispatch({\n        type: SEARCH_DOGS,\n        payload: allDogsData\n      });\n      dispatch(setTotalPage());\n    } catch (error) {\n      if (error.response.status === 404) {\n        return alert('No dog breeds found with that name');\n      }\n    } finally {\n      dispatch(setLoading(false));\n    }\n  };\n}\n\n// Acción para actualizar estado de carga\nexport const setLoading = isLoading => ({\n  type: SET_LOADING,\n  payload: isLoading\n});\n\n// Acción para consultar temperamentos\nexport function allTemperaments() {\n  return async function (dispatch) {\n    try {\n      dispatch(setLoading(true));\n      const serviceTemp = await axios(\"http://localhost:3001/temperaments\");\n      const allTempData = serviceTemp.data;\n      dispatch({\n        type: GET_TEMPERAMENTS,\n        payload: allTempData\n      });\n    } catch (error) {\n      console.log(error);\n    } finally {\n      dispatch(setLoading(false));\n    }\n  };\n}\n\n// Acción para crear nuevo perro\nexport function createNewDog(payload) {\n  return async function (dispatch) {\n    try {\n      const service = await axios.post(URL, payload);\n      dispatch({\n        type: CREATE_DOG,\n        payload\n      });\n      if (service.status === 201) {\n        return alert('Succesfully created');\n      }\n    } catch (error) {\n      if (error.response.status === 400) {\n        return alert('Dog breeds name already exists');\n      }\n      if (error.response.status === 404) {\n        return alert('Internal server error');\n      }\n    }\n  };\n}\n\n// Acción para filtrar por origen\nexport function filterByOrigin(option) {\n  return dispatch => {\n    dispatch({\n      type: FILTER_BY_ORIGIN,\n      payload: option\n    });\n    dispatch(setTotalPage());\n  };\n}\n;\n\n// Acción para filtrar por temperamento\nexport function filterByTemperament(option) {\n  return dispatch => {\n    dispatch({\n      type: FILTER_BY_TEMPERAMENT,\n      payload: option\n    });\n    dispatch(setTotalPage());\n  };\n}\n\n// Acción para definir ordenamiento\nexport const toggleSortOrder = () => ({\n  type: SORT_ORDER\n});\n\n// Acción para actualizar ordenamiento\nexport const updateSortedList = sortedList => ({\n  type: UPDATE_ORDER,\n  payload: sortedList\n});\n\n// Acción para actualizar estado de limpieza\nexport function setClean(isClean) {\n  return {\n    type: SET_CLEAN,\n    payload: isClean\n  };\n}\n\n// Acción para limpiar filtros\nexport function cleanFilter() {\n  return async function (dispatch) {\n    try {\n      dispatch(setClean(true));\n      dispatch({\n        type: CLEAN_FILTER\n      });\n      dispatch(setTotalPage());\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      dispatch(setClean(false));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n}","map":{"version":3,"names":["axios","GET_DOGS","SET_PAGE","SET_TOTAL_PAGE","SEARCH_DOGS","SET_LOADING","GET_TEMPERAMENTS","CREATE_DOG","FILTER_BY_TEMPERAMENT","FILTER_BY_ORIGIN","SORT_ORDER","UPDATE_ORDER","CLEAN_FILTER","SET_CLEAN","URL","allDogs","dispatch","setLoading","response","allDogsData","data","console","log","type","payload","setTotalPage","error","setPage","pageNumber","onSearch","name","service","status","alert","isLoading","allTemperaments","serviceTemp","allTempData","createNewDog","post","filterByOrigin","option","filterByTemperament","toggleSortOrder","updateSortedList","sortedList","setClean","isClean","cleanFilter","Promise","resolve","setTimeout"],"sources":["/Users/macbookpro/Desktop/PI-Dogs SP-main/client/src/redux/actions.js"],"sourcesContent":["import axios from \"axios\";\nimport { GET_DOGS, \n    SET_PAGE, \n    SET_TOTAL_PAGE, \n    SEARCH_DOGS, \n    SET_LOADING, \n    GET_TEMPERAMENTS, \n    CREATE_DOG, \n    FILTER_BY_TEMPERAMENT, \n    FILTER_BY_ORIGIN, \n    SORT_ORDER, \n    UPDATE_ORDER, \n    CLEAN_FILTER, \n    SET_CLEAN } from \"./actionType\";\n\n    const URL = \"https://api.thedogapi.com/v1/breeds\"; // API externa\n\n// Acción para consultar todos los perros\nexport function allDogs() {\n    return async function (dispatch) {\n        try {\n            dispatch(setLoading(true));\n            const response = await axios(URL);\n            const allDogsData = response.data;\n\n            console.log(allDogsData); // Verifica los datos obtenidos\n\n            dispatch({\n                type: GET_DOGS,\n                payload: allDogsData\n            });\n\n            dispatch(setTotalPage());\n    } catch (error) {\n      console.error(error);\n    } finally {\n      dispatch(setLoading(false));\n    }\n  };\n}\n\n// Acción para traer definir el total de páginas\nexport function setTotalPage() {\n    return {\n        type: SET_TOTAL_PAGE\n    };\n}\n\n// Acción para traer definir página actual\nexport const setPage = (pageNumber) => ({\n    type: SET_PAGE,\n    payload: pageNumber,\n});\n\n// Acción para buscar por nombre\nexport function onSearch(name) {\n    return async function (dispatch) {\n        try {\n            dispatch(setLoading(true))\n\n            const service = await axios(URL + `?name=${name}`)\n            const allDogsData = service.data\n\n            dispatch({\n                type: SEARCH_DOGS,\n                payload: allDogsData\n            })\n\n            dispatch(setTotalPage())\n        } catch (error) {\n            if (error.response.status === 404) {\n                return alert('No dog breeds found with that name')\n            }\n        } finally {\n            dispatch(setLoading(false))\n        }\n    }\n}\n\n// Acción para actualizar estado de carga\nexport const setLoading = (isLoading) => ({\n    type: SET_LOADING,\n    payload: isLoading,\n});\n\n// Acción para consultar temperamentos\nexport function allTemperaments() {\n    return async function (dispatch) {\n        try {\n            dispatch(setLoading(true))\n\n            const serviceTemp = await axios(\"http://localhost:3001/temperaments\")\n            const allTempData = serviceTemp.data\n\n            dispatch({\n                type: GET_TEMPERAMENTS,\n                payload: allTempData\n            })\n\n        } catch (error) {\n            console.log(error)\n        } finally {\n            dispatch(setLoading(false))\n        }\n    }\n}\n\n// Acción para crear nuevo perro\nexport function createNewDog(payload) {\n    return async function (dispatch) {\n        try {\n            const service = await axios.post(URL, payload)\n\n            dispatch({\n                type: CREATE_DOG,\n                payload,\n            });\n\n            if (service.status === 201) {\n                return alert('Succesfully created')\n            }\n        } catch (error) {\n            if (error.response.status === 400) {\n                return alert('Dog breeds name already exists')\n            }\n            if (error.response.status === 404) {\n                return alert('Internal server error')\n            }\n        }\n    }\n}\n\n// Acción para filtrar por origen\nexport function filterByOrigin(option) {\n    return (dispatch) => {\n        dispatch({\n            type: FILTER_BY_ORIGIN,\n            payload: option,\n        });\n\n        dispatch(setTotalPage())\n    }\n};\n\n// Acción para filtrar por temperamento\nexport function filterByTemperament(option) {\n    return (dispatch) => {\n        dispatch({\n            type: FILTER_BY_TEMPERAMENT,\n            payload: option\n        });\n\n        dispatch(setTotalPage())\n    }\n}\n\n// Acción para definir ordenamiento\nexport const toggleSortOrder = () => ({\n    type: SORT_ORDER,\n})\n\n// Acción para actualizar ordenamiento\nexport const updateSortedList = (sortedList) => ({\n    type: UPDATE_ORDER,\n    payload: sortedList,\n})\n\n// Acción para actualizar estado de limpieza\nexport function setClean(isClean) {\n    return {\n        type: SET_CLEAN,\n        payload: isClean\n    }\n}\n\n// Acción para limpiar filtros\nexport function cleanFilter() {\n    return async function (dispatch) {\n        try {            \n            dispatch(setClean(true));\n\n            dispatch({\n                type: CLEAN_FILTER,\n            });\n\n            dispatch(setTotalPage());\n\n            await new Promise(resolve => setTimeout(resolve, 1000))\n\n            dispatch(setClean(false));\n        } catch (error) {\n            console.log(error)\n        }\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}